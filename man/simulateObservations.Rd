% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulateObservations.R
\name{simulateObservations}
\alias{simulateObservations}
\title{Simulate survival data}
\usage{
simulateObservations(
  cs,
  cowCounts,
  freqStartsByYear,
  printPlot = FALSE,
  collarNumYears = 4,
  collarOffTime = 5,
  collarOnTime = 8,
  distScen = NULL,
  populationGrowthTable = caribouMetrics::popGrowthTableJohnsonECCC,
  survivalModelNumber = "M1",
  recruitmentModelNumber = "M4",
  writeFilesDir = NULL
)
}
\arguments{
\item{cs}{list. Parameters for the simulations. See [fillDefaults()] for
details.}

\item{cowCounts}{data.frame. Number of cows counted in aerial surveys each
year. Must have 3 columns "Year", "Count", and "Class" where class is "cow"
in all rows}

\item{freqStartsByYear}{data.frame. Number of collars deployed in each year.
Must have 2 columns "Year" and "numStarts"}

\item{printPlot}{logical. print a plot of the true population trajectory?}

\item{collarNumYears}{integer. Number of years until collar falls off}

\item{collarOffTime}{integer. Month that collars fall off. A number from 1
(January) to 12 (December)}

\item{collarOnTime}{integer. Month that collars are deployed. A number from 1
(January) to 12 (December)}

\item{distScen}{data.frame. Disturbance scenario. Must have columns "Year",
"Anthro", and "fire_excl_anthro" containing the year, percentage of the
landscape covered by anthropogenic disturbance buffered by 500 m, and the
percentage covered by fire that does not overlap anthropogenic disturbance.
See [disturbanceMetrics()]. If NULL the disturbance scenario is simulated
based on `cs`}

\item{populationGrowthTable}{data.frame. By default
\code{\link{popGrowthTableJohnsonECCC}} is used. A custom table of model
parameters can be provided but it must match the column names of
\code{\link{popGrowthTableJohnsonECCC}}.}

\item{survivalModelNumber, recruitmentModelNumber}{character. Which model
number to use see \code{\link{popGrowthTableJohnsonECCC}} for options.}

\item{writeFilesDir}{characater. If not NULL `simSurvObs` and `ageRatioOut`
results will be saved to csv files in the directory provided}
}
\value{
a list with elements:
  * minYr: first year in the simulations,
  * maxYr: last year in the simulations,
  * simDisturbance: a data frame with columns Anthro, fire_excl_anthro, Total_dist, and  Year,
  * simSurvObs: a data frame of survival data with columns id, Year, event, enter, and exit,
  * ageRatioOut: a data frame of calf cow counts for each year with columns Year, Count, and Class,
  * exData: a tibble of expected population metric based on the national model,
  * cs: a data frame recording the input parameters for the simulation.
}
\description{
Simulate caribou survival data. First a true population trajectory is
simulated following the national model and a disturbance scenario. Then
realistic observations are simulated from this true population based on a
collaring program with the given parameters.
}
