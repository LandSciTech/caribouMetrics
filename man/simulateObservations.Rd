% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulateObservations.R
\name{simulateObservations}
\alias{simulateObservations}
\title{Simulate survival data}
\usage{
simulateObservations(
  paramTable,
  cowCounts = NULL,
  freqStartsByYear = NULL,
  printPlot = FALSE,
  collarNumYears = 4,
  collarOffTime = 5,
  collarOnTime = 8,
  distScen = NULL,
  populationGrowthTable = caribouMetrics::popGrowthTableJohnsonECCC,
  survivalModelNumber = "M1",
  recruitmentModelNumber = "M4",
  writeFilesDir = NULL
)
}
\arguments{
\item{paramTable}{data.frame. Parameters for the simulations. See
\code{\link[=getScenarioDefaults]{getScenarioDefaults()}} for details.}

\item{cowCounts}{data.frame. Optional. Number of cows counted in aerial
surveys each year. If NULL \code{paramTable$cowCount} is used and the number of
cows observed is assumed to be equal each year.  If a data.fram is provided
it must have 3 columns "Year", "Count", and "Class" where class is "cow" in
all rows}

\item{freqStartsByYear}{data.frame. Optional. Number of collars deployed in
each year. If NULL \code{paramTable$collarCount} is used as the target number of
collars and each year that collars are deployed they will be topped up to
this number. If a data.frame is provided it must have 2 columns "Year" and
"numStarts" and the "numStarts" is the absolute number of collars deployed
in that year.}

\item{printPlot}{logical. print a plot of the true population trajectory?}

\item{collarNumYears}{integer. Number of years until collar falls off}

\item{collarOffTime}{integer. Month that collars fall off. A number from 1
(January) to 12 (December)}

\item{collarOnTime}{integer. Month that collars are deployed. A number from 1
(January) to 12 (December)}

\item{distScen}{data.frame. Disturbance scenario. Must have columns "Year",
"Anthro", and "fire_excl_anthro" containing the year, percentage of the
landscape covered by anthropogenic disturbance buffered by 500 m, and the
percentage covered by fire that does not overlap anthropogenic disturbance.
See \code{\link[=disturbanceMetrics]{disturbanceMetrics()}}. If NULL the disturbance scenario is simulated
based on \code{paramTable}}

\item{populationGrowthTable}{data.frame. By default
\link{popGrowthTableJohnsonECCC} is used. A custom table of model parameters
can be provided but it must match the column names of
\link{popGrowthTableJohnsonECCC}.}

\item{survivalModelNumber, recruitmentModelNumber}{character. Which model
number to use see \link{popGrowthTableJohnsonECCC} for options.}

\item{writeFilesDir}{characater. If not NULL \code{simSurvObs} and \code{ageRatioOut}
results will be saved to csv files in the directory provided}
}
\value{
a list with elements:
\itemize{
\item minYr: first year in the simulations,
\item maxYr: last year in the simulations,
\item simDisturbance: a data frame with columns Anthro, fire_excl_anthro, Total_dist, and  Year,
\item simSurvObs: a data frame of survival data with columns id, Year, event, enter, and exit,
\item ageRatioOut: a data frame of calf cow counts for each year with columns Year, Count, and Class,
\item exData: a tibble of expected population metrics based on the national model,
\item paramTable: a data frame recording the input parameters for the simulation.
}
}
\description{
Simulate caribou survival data. First a true population trajectory is
simulated following the national model and a disturbance scenario. Then
realistic observations are simulated from this true population based on a
collaring program with the given parameters.
}
\examples{
scns <- getScenarioDefaults(projYears = 10, obsYears = 10, 
                            obsAnthroSlope = 1, projAnthroSlope = 5,
                            collarCount = 20, cowCount = 100)
                            
simO <- simulateObservations(scns)
}
