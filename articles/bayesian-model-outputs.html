<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Options for using Bayesian model results â€¢ caribouMetrics</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Options for using Bayesian model results">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">caribouMetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/caribouDemography.html">Caribou Demography</a></li>
    <li><a class="dropdown-item" href="../articles/bayesian-model-outputs.html">Options for using Bayesian model results</a></li>
    <li><a class="dropdown-item" href="../articles/combine-observed-simulated.html">Combine observed and simulated caribou data</a></li>
    <li><a class="dropdown-item" href="../articles/compare-bayesian-models.html">Comparing the caribouMetrics Beta model to bboutools models</a></li>
    <li><a class="dropdown-item" href="../articles/Using_disturbanceMetric.html">Disturbance Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/Using_caribouHabitat.html">Using caribouHabitat</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LandSciTech/caribouMetrics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Options for using Bayesian model results</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/LandSciTech/caribouMetrics/blob/master/vignettes/bayesian-model-outputs.Rmd" class="external-link"><code>vignettes/bayesian-model-outputs.Rmd</code></a></small>
      <div class="d-none name"><code>bayesian-model-outputs.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://landscitech.github.io/caribouMetrics">caribouMetrics</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required package: nimble</span></span>
<span><span class="co">#&gt; nimble version 1.3.0 is loaded.</span></span>
<span><span class="co">#&gt; For more information on NIMBLE and a User Manual,</span></span>
<span><span class="co">#&gt; please visit https://R-nimble.org.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Note for advanced users who have written their own MCMC samplers:</span></span>
<span><span class="co">#&gt;   As of version 0.13.0, NIMBLE's protocol for handling posterior</span></span>
<span><span class="co">#&gt;   predictive nodes has changed in a way that could affect user-defined</span></span>
<span><span class="co">#&gt;   samplers in some situations. Please see Section 15.5.1 of the User Manual.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'nimble'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     simulate</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     declare</span></span>
<span><span class="co"># use local version on local and installed on GH</span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"devtools"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="fu">devtools</span><span class="fu">::</span><span class="fu">load_all</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://poissonconsulting.github.io/bboudata/" class="external-link">bboudata</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/poissonconsulting/bboutools" class="external-link">bboutools</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">resFile</span> <span class="op">&lt;-</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org/reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"results/vignetteBbbouExample.rds"</span><span class="op">)</span></span>
<span><span class="va">useSaved</span> <span class="op">&lt;-</span> <span class="cn">F</span> <span class="co">#option to skip slow step of fitting bboutools model</span></span></code></pre></div>
<div class="section level2">
<h2 id="demographic-trajectories-and-summaries-from-bboutools-models">Demographic trajectories and summaries from bboutools models<a class="anchor" aria-label="anchor" href="#demographic-trajectories-and-summaries-from-bboutools-models"></a>
</h2>
<p><code><a href="../reference/bbouMakeSummaryTable.html">bbouMakeSummaryTable()</a></code> returns fitted bboutools survival
and recruitment models (assuming no trends over time) and summaries of
those models. In this example, we add 5 missing years that will be
predicted by the model.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="kw">if</span><span class="op">(</span><span class="va">useSaved</span><span class="op">&amp;</span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.exists</a></span><span class="op">(</span><span class="va">resFile</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="va">resFile</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="kw">else</span><span class="op">{</span></span>
<span>  <span class="va">surv_data</span> <span class="op">=</span> <span class="fu">bboudata</span><span class="fu">::</span><span class="va"><a href="https://poissonconsulting.github.io/bboudata/reference/bbousurv_a.html" class="external-link">bbousurv_a</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Year</span> <span class="op">&gt;</span> <span class="fl">2010</span><span class="op">)</span></span>
<span>  <span class="va">surv_data_add</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>Year<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2017</span>,<span class="fl">2022</span><span class="op">)</span>,Month<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">12</span><span class="op">)</span>,PopulationName<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">surv_data</span><span class="op">$</span><span class="va">PopulationName</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">surv_data</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">surv_data</span>,<span class="va">surv_data_add</span>,all.x<span class="op">=</span><span class="cn">T</span>,all.y<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">surv_data</span><span class="op">$</span><span class="va">StartTotal</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">surv_data</span><span class="op">$</span><span class="va">StartTotal</span><span class="op">)</span><span class="op">]</span><span class="op">=</span><span class="fl">1</span></span>
<span></span>
<span>  <span class="va">recruit_data</span><span class="op">=</span><span class="fu">bboudata</span><span class="fu">::</span><span class="va"><a href="https://poissonconsulting.github.io/bboudata/reference/bbourecruit_a.html" class="external-link">bbourecruit_a</a></span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Year</span> <span class="op">&gt;</span> <span class="fl">2010</span><span class="op">)</span></span>
<span>  <span class="va">recruit_data_add</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span>Year<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">2017</span>,<span class="fl">2022</span><span class="op">)</span>,PopulationName<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">recruit_data</span><span class="op">$</span><span class="va">PopulationName</span><span class="op">)</span><span class="op">)</span></span>
<span>  <span class="va">recruit_data</span><span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">recruit_data</span>,<span class="va">recruit_data_add</span>,all.x<span class="op">=</span><span class="cn">T</span>,all.y<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="va">recruit_data</span><span class="op">$</span><span class="va">Month</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">recruit_data</span><span class="op">$</span><span class="va">Month</span><span class="op">)</span><span class="op">]</span><span class="op">=</span><span class="fl">3</span>;<span class="va">recruit_data</span><span class="op">$</span><span class="va">Day</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">recruit_data</span><span class="op">$</span><span class="va">Day</span><span class="op">)</span><span class="op">]</span><span class="op">=</span><span class="fl">15</span></span>
<span></span>
<span>  <span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/bbouMakeSummaryTable.html">bbouMakeSummaryTable</a></span><span class="op">(</span><span class="va">surv_data</span>,</span>
<span>                            <span class="va">recruit_data</span>,</span>
<span>                            N0<span class="op">=</span><span class="cn">NA</span>,return_mcmc<span class="op">=</span><span class="cn">T</span><span class="op">)</span></span>
<span>  <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.exists</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/basename.html" class="external-link">dirname</a></span><span class="op">(</span><span class="va">resFile</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></span><span class="op">(</span><span class="va">mod</span>,<span class="va">resFile</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; Registered S3 method overwritten by 'mcmcr':</span></span>
<span><span class="co">#&gt;   method         from </span></span>
<span><span class="co">#&gt;   as.mcmc.nlists nlist</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[7]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[8]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[9]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[10]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[11]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[12]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[7]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[8]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[9]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[10]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[11]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[12]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node FemaleYearlings[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node FemaleYearlings[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Cows[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Cows[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node OtherAdultsFemales[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node OtherAdultsFemales[12]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[7]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[8]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[9]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[10]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[11]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of deterministic node AdultsFemales[12]: value is NA or NaN even after trying to calculate.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[7]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[7]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[8]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[8]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[9]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[9]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[10]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[10]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[11]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[11]: logProb is NA or NaN.</span></span>
<span><span class="co">#&gt; warning: value of stochastic node Calves[12]: value is NA or NaN even after trying to simulate.</span></span>
<span><span class="co">#&gt; warning: problem initializing stochastic node Calves[12]: logProb is NA or NaN.</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">mod</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "parTab"      "surv_fit"    "recruit_fit"</span></span>
<span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span></span>
<span><span class="co">#&gt;   pop_name     R_bar      R_sd R_iv_mean R_iv_shape R_bar_lower R_bar_upper</span></span>
<span><span class="co">#&gt; 1        A 0.1927174 0.1974911 0.3554032   1.912094   0.1359539   0.2575156</span></span>
<span><span class="co">#&gt;       S_bar      S_sd S_iv_mean S_iv_shape S_bar_lower S_bar_upper N0</span></span>
<span><span class="co">#&gt; 1 0.9415866 0.5854533  0.607396   1.547401   0.8530804   0.9833124 NA</span></span>
<span><span class="co">#&gt;   nCollarYears nSurvYears nCowsAllYears nRecruitYears</span></span>
<span><span class="co">#&gt; 1          185         12            NA            12</span></span></code></pre></div>
<p>Use <code><a href="../reference/caribouPopSimMCMC.html">caribouPopSimMCMC()</a></code> to predict demographic
trajectories from the mcmc samples. Use
<code><a href="../reference/caribouPopSimMCMC.html">summarizeCaribouPopSim()</a></code> to get 95% prediction intervals
from the demographic trajectories.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">outmcmc</span> <span class="op">=</span> <span class="fu"><a href="../reference/caribouPopSimMCMC.html">caribouPopSimMCMC</a></span><span class="op">(</span>popInfo<span class="op">=</span><span class="cn">NA</span>,<span class="va">mod</span><span class="op">$</span><span class="va">recruit_fit</span>,<span class="va">mod</span><span class="op">$</span><span class="va">surv_fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">outmcmc</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "N0"                  "lambda"              "lambdaE"            </span></span>
<span><span class="co">#&gt;  [4] "N"                   "R_t"                 "X_t"                </span></span>
<span><span class="co">#&gt;  [7] "S_t"                 "n_recruits"          "surviving_adFemales"</span></span>
<span><span class="co">#&gt; [10] "lab"                 "Year"                "PopulationName"     </span></span>
<span><span class="co">#&gt; [13] "id"</span></span>
<span></span>
<span><span class="co">#get 95% prediction intervals from demographic trajectories</span></span>
<span><span class="va">PImcmc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caribouPopSimMCMC.html">summarizeCaribouPopSim</a></span><span class="op">(</span><span class="fu"><a href="../reference/caribouPopSimMCMC.html">convertTrajectories</a></span><span class="op">(</span><span class="va">outmcmc</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span><span class="op">$</span><span class="va">id</span><span class="op">=</span><span class="cn">NA</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">base</span><span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outmcmc</span>,<span class="va">id</span><span class="op">&lt;=</span><span class="fl">35</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">R_t</span>,group<span class="op">=</span><span class="va">id</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"recruitment"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot1-1.png" width="768"></p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">base</span><span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outmcmc</span>,<span class="va">id</span><span class="op">&lt;=</span><span class="fl">35</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">S_t</span>,group<span class="op">=</span><span class="va">id</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"survival"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot1-2.png" width="768"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">base</span><span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outmcmc</span>,<span class="va">id</span><span class="op">&lt;=</span><span class="fl">35</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">lambda</span>,group<span class="op">=</span><span class="va">id</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"lambda"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot1-3.png" width="768"></p>
<p>Note that the 95% prediction intervals from the mcmc samples match
the results returned by bboutools.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_plot_year_calf_cow_ratio.html" class="external-link">bb_plot_year_calf_cow_ratio</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">recruit_fit</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"recruitment"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot2-1.png" width="768"></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">surv_pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_predict_survival.html" class="external-link">bb_predict_survival</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">surv_fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_plot_year_survival.html" class="external-link">bb_plot_year_survival</a></span><span class="op">(</span><span class="va">surv_pred</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"survival"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot2-2.png" width="768"></p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">bbou_lambda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_predict_growth.html" class="external-link">bb_predict_growth</a></span><span class="op">(</span>survival <span class="op">=</span> <span class="va">mod</span><span class="op">$</span><span class="va">surv_fit</span>, recruitment <span class="op">=</span> <span class="va">mod</span><span class="op">$</span><span class="va">recruit_fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_plot_year_growth.html" class="external-link">bb_plot_year_growth</a></span><span class="op">(</span><span class="va">bbou_lambda</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"lambda"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot2-3.png" width="768"></p>
<p>The model summary returned by <code><a href="../reference/bbouMakeSummaryTable.html">bbouMakeSummaryTable()</a></code> can
also be used to simulate demographic trajectories.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">yrs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PImcmc</span><span class="op">$</span><span class="va">summary</span>,select<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">PopulationName</span>,<span class="va">Year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">yrs</span><span class="op">$</span><span class="va">time</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">yrs</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">outParTab</span> <span class="op">=</span> <span class="fu"><a href="../reference/doSim.html">doSim</a></span><span class="op">(</span>numSteps<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">yrs</span><span class="op">)</span>, numPops<span class="op">=</span><span class="fl">10000</span>, N0<span class="op">=</span><span class="cn">NA</span>, R_bar<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">R_bar</span>, S_bar<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">S_bar</span>,</span>
<span>              R_sd<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">R_sd</span>, S_sd<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">S_sd</span>,</span>
<span>              R_iv_mean<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">R_iv_mean</span>, S_iv_mean<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">S_iv_mean</span>,</span>
<span>              R_iv_shape <span class="op">=</span> <span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">R_iv_shape</span>,S_iv_shape<span class="op">=</span><span class="va">mod</span><span class="op">$</span><span class="va">parTab</span><span class="op">$</span><span class="va">S_iv_shape</span>,</span>
<span>              scn_nm<span class="op">=</span><span class="st">"base"</span>, addl_params<span class="op">=</span><span class="cn">NULL</span>,type<span class="op">=</span><span class="st">"logistic"</span><span class="op">)</span></span>
<span><span class="va">outParTab</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">outParTab</span>,<span class="va">yrs</span><span class="op">)</span></span>
<span><span class="va">PIParTab</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caribouPopSimMCMC.html">summarizeCaribouPopSim</a></span><span class="op">(</span><span class="fu"><a href="../reference/caribouPopSimMCMC.html">convertTrajectories</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outParTab</span>,<span class="va">type</span><span class="op">==</span><span class="st">"samp"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span><span class="op">$</span><span class="va">id</span><span class="op">=</span><span class="cn">NA</span>;<span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span><span class="op">$</span><span class="va">scn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">outParTab</span><span class="op">$</span><span class="va">scn</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">base</span><span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outParTab</span>,<span class="va">id</span><span class="op">&lt;=</span><span class="fl">35</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">R_t</span>,group<span class="op">=</span><span class="va">id</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"recruitment"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot3-1.png" width="768"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">base</span><span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outParTab</span>,<span class="va">id</span><span class="op">&lt;=</span><span class="fl">35</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">S_t</span>,group<span class="op">=</span><span class="va">id</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"survival"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot3-2.png" width="768"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">base</span><span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outParTab</span>,<span class="va">id</span><span class="op">&lt;=</span><span class="fl">35</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">lambda</span>,group<span class="op">=</span><span class="va">id</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"lambda"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot3-3.png" width="768"></p>
<p>Note that the 95% prediction intervals derived from the model summary
only match the results returned by bboutools in unobserved years. This
is because year-specific information is not included in the model
summary.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_plot_year_calf_cow_ratio.html" class="external-link">bb_plot_year_calf_cow_ratio</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">recruit_fit</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"recruitment"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot4-1.png" width="768"></p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">surv_pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_predict_survival.html" class="external-link">bb_predict_survival</a></span><span class="op">(</span><span class="va">mod</span><span class="op">$</span><span class="va">surv_fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_plot_year_survival.html" class="external-link">bb_plot_year_survival</a></span><span class="op">(</span><span class="va">surv_pred</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"survival"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot4-2.png" width="768"></p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">bbou_lambda</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_predict_growth.html" class="external-link">bb_predict_growth</a></span><span class="op">(</span>survival <span class="op">=</span> <span class="va">mod</span><span class="op">$</span><span class="va">surv_fit</span>, recruitment <span class="op">=</span> <span class="va">mod</span><span class="op">$</span><span class="va">recruit_fit</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://poissonconsulting.github.io/bboutools/reference/bb_plot_year_growth.html" class="external-link">bb_plot_year_growth</a></span><span class="op">(</span><span class="va">bbou_lambda</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>data<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span>,<span class="va">MetricTypeID</span><span class="op">==</span><span class="st">"lambda"</span><span class="op">)</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>,ymax<span class="op">=</span><span class="va">upper</span><span class="op">)</span>,alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot4-3.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="scenarios-informed-by-bboutools-models">Scenarios informed by bboutools models<a class="anchor" aria-label="anchor" href="#scenarios-informed-by-bboutools-models"></a>
</h2>
<p>We can explore the implications of changing demographic model
parameters by modifying the model summary table. In this example, we
increase the expected calf:cow ratio by 30%. The <a href="https://github.com/LandSciTech/CaribouDemographyBasicApp" class="external-link">Boreal
Demographic Projection Explorer app</a> provides an R Shiny interface
for fitting bboutools models and exploring scenarios informed by those
models, with more thorough explanations.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">parTabHighRec</span> <span class="op">&lt;-</span> <span class="va">mod</span><span class="op">$</span><span class="va">parTab</span></span>
<span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">R_bar</span> <span class="op">&lt;-</span> <span class="va">parTabHighRec</span><span class="op">$</span><span class="va">R_bar</span><span class="op">*</span><span class="fl">1.3</span></span>
<span></span>
<span><span class="va">outParTabHR</span> <span class="op">=</span> <span class="fu"><a href="../reference/doSim.html">doSim</a></span><span class="op">(</span>numSteps<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">yrs</span><span class="op">)</span>, numPops<span class="op">=</span><span class="fl">10000</span>, N0<span class="op">=</span><span class="cn">NA</span>, R_bar<span class="op">=</span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">R_bar</span>, S_bar<span class="op">=</span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">S_bar</span>,</span>
<span>                  R_sd<span class="op">=</span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">R_sd</span>, S_sd<span class="op">=</span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">S_sd</span>,</span>
<span>                  R_iv_mean<span class="op">=</span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">R_iv_mean</span>, S_iv_mean<span class="op">=</span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">S_iv_mean</span>,</span>
<span>                  R_iv_shape <span class="op">=</span> <span class="va">parTabHighRec</span><span class="op">$</span><span class="va">R_iv_shape</span>,S_iv_shape<span class="op">=</span><span class="va">parTabHighRec</span><span class="op">$</span><span class="va">S_iv_shape</span>,</span>
<span>                  scn_nm<span class="op">=</span><span class="st">"highRec"</span>, addl_params<span class="op">=</span><span class="cn">NULL</span>,type<span class="op">=</span><span class="st">"logistic"</span><span class="op">)</span></span>
<span><span class="va">outParTabHR</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/merge.html" class="external-link">merge</a></span><span class="op">(</span><span class="va">outParTabHR</span>,<span class="va">yrs</span><span class="op">)</span></span>
<span><span class="va">PIParTabHR</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/caribouPopSimMCMC.html">summarizeCaribouPopSim</a></span><span class="op">(</span><span class="fu"><a href="../reference/caribouPopSimMCMC.html">convertTrajectories</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">outParTabHR</span>,<span class="va">type</span><span class="op">==</span><span class="st">"samp"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">PIParTabHR</span><span class="op">$</span><span class="va">summary</span><span class="op">$</span><span class="va">id</span><span class="op">=</span><span class="cn">NA</span>;<span class="va">PIParTabHR</span><span class="op">$</span><span class="va">summary</span><span class="op">$</span><span class="va">scn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">outParTabHR</span><span class="op">$</span><span class="va">scn</span><span class="op">)</span></span>
<span></span>
<span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">PIParTab</span><span class="op">$</span><span class="va">summary</span>,<span class="va">PIParTabHR</span><span class="op">$</span><span class="va">summary</span><span class="op">)</span></span>
<span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/subset.html" class="external-link">subset</a></span><span class="op">(</span><span class="va">comp</span>,<span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">Mean</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">base</span><span class="op">=</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">comp</span>,<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>,y<span class="op">=</span><span class="va">Mean</span>,ymin<span class="op">=</span><span class="va">lower</span>, ymax<span class="op">=</span><span class="va">upper</span>, group<span class="op">=</span><span class="va">scn</span>,colour<span class="op">=</span><span class="va">scn</span>,fill<span class="op">=</span><span class="va">scn</span><span class="op">)</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html" class="external-link">geom_line</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.3</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_ribbon.html" class="external-link">geom_ribbon</a></span><span class="op">(</span>alpha<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">Parameter</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span></span></code></pre></div>
<p><img src="bayesian-model-outputs_files/figure-html/plot5-1.png" width="768"></p>
</div>
<div class="section level2">
<h2 id="other-demographic-modeling-options-and-outputs">Other demographic modeling options and outputs<a class="anchor" aria-label="anchor" href="#other-demographic-modeling-options-and-outputs"></a>
</h2>
<p>TO DO: show &amp; discuss expected values of parameters - without
interannual variation.</p>
<p>TO DO: show effects of other demographic modeling options &amp;
outputs i.e.Â changes in population size with and without carrying
capacity.</p>
<p>TO DO: Add lots more text and explanation of what the functions are
for, what the different rates are and why you would want to calculate
them one way vs another. As well as general context within the package
and relative to bboutools.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Josie Hughes, Sarah Endicott, Yuko Shimoda, Craig Simpkins, Tati Michelleti, Eliot McIntire.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
