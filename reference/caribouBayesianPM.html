<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Bayesian population model for boreal caribou — caribouBayesianPM • caribouMetrics</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Bayesian population model for boreal caribou — caribouBayesianPM"><meta property="og:description" content="A Bayesian population model that integrates prior
information from Johnson et al.'s (2020) national analysis of
demographic-disturbance relationships with local demographic data to project
population growth."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">caribouMetrics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/caribouDemography.html">Caribou Demography</a>
    </li>
    <li>
      <a href="../articles/BayesianDemographicProjection.html">Bayesian Demographic Projection</a>
    </li>
    <li>
      <a href="../articles/Using_disturbanceMetric.html">Disturbance Metrics</a>
    </li>
    <li>
      <a href="../articles/Using_caribouHabitat.html">Using caribouHabitat</a>
    </li>
    <li>
      <a href="../articles/UI_help.html">User Interface Help</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/LandSciTech/caribouMetrics/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Bayesian population model for boreal caribou</h1>
    <small class="dont-index">Source: <a href="https://github.com/LandSciTech/caribouMetrics/blob/master/R/caribouBayesianPM.R" class="external-link"><code>R/caribouBayesianPM.R</code></a></small>
    <div class="hidden name"><code>caribouBayesianPM.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A Bayesian population model that integrates prior
information from Johnson et al.'s (2020) national analysis of
demographic-disturbance relationships with local demographic data to project
population growth.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">caribouBayesianPM</span><span class="op">(</span></span>
<span>  survData <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/simSurvData.csv"</span>, package <span class="op">=</span> <span class="st">"caribouMetrics"</span><span class="op">)</span>,</span>
<span>  ageRatio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/simAgeRatio.csv"</span>, package <span class="op">=</span> <span class="st">"caribouMetrics"</span><span class="op">)</span>,</span>
<span>  disturbance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/simDisturbance.csv"</span>, package <span class="op">=</span> <span class="st">"caribouMetrics"</span><span class="op">)</span>,</span>
<span>  betaPriors <span class="op">=</span> <span class="st">"default"</span>,</span>
<span>  startYear <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  endYear <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  Nchains <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  Niter <span class="op">=</span> <span class="fl">15000</span>,</span>
<span>  Nburn <span class="op">=</span> <span class="fl">10000</span>,</span>
<span>  Nthin <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  N0 <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  survAnalysisMethod <span class="op">=</span> <span class="st">"KaplanMeier"</span>,</span>
<span>  adjustR <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  assessmentYrs <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  inputList <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  saveJAGStxt <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-survdata">survData<a class="anchor" aria-label="anchor" href="#arg-survdata"></a></dt>
<dd><p>either a path to a csv file or a dataframe containing the
columns "Year", "event", "enter" and "exit". Enter and exit are the
beginning and end of the time interval and should be a number from 1 to 12
(December) or 0 (See Details). Event is 0 or 1 where 0 means the animal
lived and 1 died. See <code><a href="https://rdrr.io/pkg/survival/man/Surv.html" class="external-link">survival::Surv()</a></code> for more details.</p></dd>


<dt id="arg-ageratio">ageRatio<a class="anchor" aria-label="anchor" href="#arg-ageratio"></a></dt>
<dd><p>either a path to a csv file or a dataframe containing the
columns "Year","Count", and "Class". Where class can be either "calf" or "cow"</p></dd>


<dt id="arg-disturbance">disturbance<a class="anchor" aria-label="anchor" href="#arg-disturbance"></a></dt>
<dd><p>either a path to a csv file or a dataframe containing the
columns "Anthro","fire_excl_anthro", and "Year".</p></dd>


<dt id="arg-betapriors">betaPriors<a class="anchor" aria-label="anchor" href="#arg-betapriors"></a></dt>
<dd><p>a list of model priors. See <code><a href="getPriors.html">getPriors()</a></code>.</p></dd>


<dt id="arg-startyear-endyear">startYear, endYear<a class="anchor" aria-label="anchor" href="#arg-startyear-endyear"></a></dt>
<dd><p>year defining the beginning of the observation
period and the end of the projection period.</p></dd>


<dt id="arg-nchains">Nchains<a class="anchor" aria-label="anchor" href="#arg-nchains"></a></dt>
<dd><p>Number of chains for the MCMC algorithm.</p></dd>


<dt id="arg-niter">Niter<a class="anchor" aria-label="anchor" href="#arg-niter"></a></dt>
<dd><p>Number of iterations for the MCMC algorithm.</p></dd>


<dt id="arg-nburn">Nburn<a class="anchor" aria-label="anchor" href="#arg-nburn"></a></dt>
<dd><p>Length of burn-in for the MCMC algorithm.</p></dd>


<dt id="arg-nthin">Nthin<a class="anchor" aria-label="anchor" href="#arg-nthin"></a></dt>
<dd><p>Thinning rate for the MCMC algorithm.</p></dd>


<dt id="arg-n-">N0<a class="anchor" aria-label="anchor" href="#arg-n-"></a></dt>
<dd><p>Initial population size.</p></dd>


<dt id="arg-survanalysismethod">survAnalysisMethod<a class="anchor" aria-label="anchor" href="#arg-survanalysismethod"></a></dt>
<dd><p>Survival analysis method either "KaplanMeier" or
"Exponential". The exponential method is only recommended when the number of collared animals (in survData) is small.</p></dd>


<dt id="arg-adjustr">adjustR<a class="anchor" aria-label="anchor" href="#arg-adjustr"></a></dt>
<dd><p>Logical. Adjust R to account for delayed age at first
reproduction (DeCesare et al. 2012; Eacker et al. 2019).</p></dd>


<dt id="arg-assessmentyrs">assessmentYrs<a class="anchor" aria-label="anchor" href="#arg-assessmentyrs"></a></dt>
<dd><p>Number of years over which to assess population growth rate lambda.</p></dd>


<dt id="arg-inputlist">inputList<a class="anchor" aria-label="anchor" href="#arg-inputlist"></a></dt>
<dd><p>an optional list of inputs with names matching the above. If
an argument is included in this list it will override the named argument.</p></dd>


<dt id="arg-savejagstxt">saveJAGStxt<a class="anchor" aria-label="anchor" href="#arg-savejagstxt"></a></dt>
<dd><p>file path. Directory where the JAGS model txt files will
be saved. Default is <code><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir()</a></code>.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>logical. Should jags run quietly?</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>a list with elements:</p><ul><li><p>result: an <code>rjags</code> model object see <code><a href="https://rdrr.io/pkg/R2jags/man/jags.html" class="external-link">R2jags::jags()</a></code>.</p></li>
<li><p>inData: a list of data that is used as input to the jags model:</p><ul><li><p>survDataIn:  survival data</p></li>
<li><p>disturbanceIn: disturbance data</p></li>
<li><p>ageRatioIn: composition data</p></li>
</ul></li>
</ul></div>
    <div id="details">
    <h2>Details</h2>
    <p>The model combines local observations of survival (<code>survData</code>),
recruitment based on calf:cow ratios (<code>ageRatio</code>) and anthropogenic
disturbance (<code>disturbance</code>) with prior information on
the relationship between disturbance and survival and recruitment from the
Johnson et al. (2020) national model (<code><a href="getPriors.html">getPriors()</a></code>) to reduce uncertainty and refine parameter estimates.</p>
<p>For a detailed description see the
<a href="https://landscitech.github.io/caribouMetrics/articles/BayesianDemographicProjection.html#integration-of-local-demographic-data-and-national-disturbance-demographic-relationships-in-a-bayesian-population-model">vignette</a>
(<code><a href="../articles/BayesianDemographicProjection.html">vignette("BayesianDemographicProjection", package = "caribouMetrics")</a></code>).</p>
<p>Note: if <code>survData</code> contains values for enter that are &gt; 0 these rows
will be dropped to avoid errors when collars are added in the middle of the
year. This will reduce the sample size in years when new collars are added.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Caribou demography functions:
<code><a href="caribouPopGrowth.html">caribouPopGrowth</a>()</code>,
<code><a href="compositionBiasCorrection.html">compositionBiasCorrection</a>()</code>,
<code><a href="demographicCoefficients.html">demographicCoefficients</a>()</code>,
<code><a href="demographicProjectionApp.html">demographicProjectionApp</a>()</code>,
<code><a href="demographicRates.html">demographicRates</a>()</code>,
<code><a href="getOutputTables.html">getOutputTables</a>()</code>,
<code><a href="getPriors.html">getPriors</a>()</code>,
<code><a href="getScenarioDefaults.html">getScenarioDefaults</a>()</code>,
<code><a href="getSimsNational.html">getSimsNational</a>()</code>,
<code><a href="plotRes.html">plotRes</a>()</code>,
<code><a href="popGrowthTableJohnsonECCC.html">popGrowthTableJohnsonECCC</a></code>,
<code><a href="runScnSet.html">runScnSet</a>()</code>,
<code><a href="simulateObservations.html">simulateObservations</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Using observed survival, recruitment and disturbance data</span></span></span>
<span class="r-in"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="fu">caribouBayesianPM</span><span class="op">(</span></span></span>
<span class="r-in"><span>  survData <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/simSurvData.csv"</span>,</span></span>
<span class="r-in"><span>                         package <span class="op">=</span> <span class="st">"caribouMetrics"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ageRatio <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/simAgeRatio.csv"</span>,</span></span>
<span class="r-in"><span>                         package <span class="op">=</span> <span class="st">"caribouMetrics"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  disturbance <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/simDisturbance.csv"</span>,</span></span>
<span class="r-in"><span>                            package <span class="op">=</span> <span class="st">"caribouMetrics"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  Nchains <span class="op">=</span> <span class="fl">1</span>, Niter <span class="op">=</span> <span class="fl">100</span>, Nburn <span class="op">=</span> <span class="fl">10</span>, Nthin <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> using Kaplan-Meier survival model</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">mod</span>, max.level <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> List of 2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ result:List of 6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ model             :List of 8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "class")= chr "jags"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ BUGSoutput        :List of 24</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   .. ..- attr(*, "class")= chr "bugs"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ parameters.to.save: chr [1:12] "S.annual.KM" "R" "Rfemale" "pop.growth" ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ model.file        : chr "/tmp/RtmpvnSrxh/JAGS_run.txt"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ n.iter            : num 100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ DIC               : logi TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..- attr(*, "class")= chr "rjags"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  $ inData:List of 3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ survDataIn   :'data.frame':	35 obs. of  8 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ disturbanceIn:'data.frame':	35 obs. of  5 variables:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ..$ ageRatioIn   :'data.frame':	70 obs. of  3 variables:</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Using simulated observation data</span></span></span>
<span class="r-in"><span><span class="va">scns</span> <span class="op">&lt;-</span> <span class="fu"><a href="getScenarioDefaults.html">getScenarioDefaults</a></span><span class="op">(</span>projYears <span class="op">=</span> <span class="fl">10</span>, obsYears <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>                            obsAnthroSlope <span class="op">=</span> <span class="fl">1</span>, projAnthroSlope <span class="op">=</span> <span class="fl">5</span>,</span></span>
<span class="r-in"><span>                            collarCount <span class="op">=</span> <span class="fl">20</span>, cowMult <span class="op">=</span> <span class="fl">5</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">simO</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulateObservations.html">simulateObservations</a></span><span class="op">(</span><span class="va">scns</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu">caribouBayesianPM</span><span class="op">(</span>survData <span class="op">=</span> <span class="va">simO</span><span class="op">$</span><span class="va">simSurvObs</span>, ageRatio <span class="op">=</span> <span class="va">simO</span><span class="op">$</span><span class="va">ageRatioOut</span>,</span></span>
<span class="r-in"><span>                          disturbance <span class="op">=</span> <span class="va">simO</span><span class="op">$</span><span class="va">simDisturbance</span>,</span></span>
<span class="r-in"><span>                          startYear <span class="op">=</span> <span class="fl">2014</span>, Nchains <span class="op">=</span> <span class="fl">1</span>, Niter <span class="op">=</span> <span class="fl">100</span>, Nburn <span class="op">=</span> <span class="fl">10</span>,</span></span>
<span class="r-in"><span>                          Nthin <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>warning, low sample size of adult females in at least one year</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> using Kaplan-Meier survival model</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Josie Hughes, Sarah Endicott, Craig Simpkins, Tati Michelleti, Eliot McIntire.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer></div>






  </body></html>

