<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate metrics of natural and anthropogenic disturbance — disturbanceMetrics • caribouMetrics</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate metrics of natural and anthropogenic disturbance — disturbanceMetrics" />
<meta property="og:description" content="Calculate the predictors described in Table 52 of Environment Canada (2011)
Scientific Assessment to Inform the Identification of Critical Habitat for
Woodland Caribou (Rangifer tarandus caribou), Boreal Population, in
Canada:2011 Update. Ottawa, Ontario.The variables calculated by this function
include:
Fire: % fire
Anthro: % non-overlapping
anthropogenic disturbance.
Total_dist: Percent total non-overlapping
fire and anthropogenic disturbance.
fire_excl_anthro: % fire not
overlapping with anthropogenic disturbance.

" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">caribouMetrics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Getting_started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/Using_caribouHabitat.html">Using caribouHabitat</a>
    </li>
    <li>
      <a href="../articles/caribouDemography.html">Disturbance Metrics and Caribou Demography</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate metrics of natural and anthropogenic disturbance</h1>
    
    <div class="hidden name"><code>disturbanceMetrics.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate the predictors described in Table 52 of Environment Canada (2011)
Scientific Assessment to Inform the Identification of Critical Habitat for
Woodland Caribou (Rangifer tarandus caribou), Boreal Population, in
Canada:2011 Update. Ottawa, Ontario.The variables calculated by this function
include:</p><ul>
<li><p>Fire: % fire</p></li>
<li><p>Anthro: % non-overlapping
anthropogenic disturbance.</p></li>
<li><p>Total_dist: Percent total non-overlapping
fire and anthropogenic disturbance.</p></li>
<li><p>fire_excl_anthro: % fire not
overlapping with anthropogenic disturbance.</p></li>
</ul>

    </div>

    <pre class="usage"><span class='fu'>disturbanceMetrics</span><span class='op'>(</span><span class='va'>landCover</span>, <span class='va'>linFeat</span>, <span class='va'>projectPoly</span>, isPercent <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S4 method for ANY</span>
<span class='fu'>disturbanceMetrics</span><span class='op'>(</span><span class='va'>landCover</span>, <span class='va'>linFeat</span>, <span class='va'>projectPoly</span>, isPercent <span class='op'>=</span> <span class='cn'>TRUE</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>landCover</th>
      <td><p>filename or RasterLayer. 0 and NA values are assumed to be
water and omitted from the tabulated area. Note landCover is also used to
define the input grid, so must be provided even if all values are 1.</p></td>
    </tr>
    <tr>
      <th>linFeat</th>
      <td><p>filename, RasterLayer, sf object or a list of these that will
be combined. Linear features.</p></td>
    </tr>
    <tr>
      <th>projectPoly</th>
      <td><p>filename or sf object. Polygons defining range boundaries.</p></td>
    </tr>
    <tr>
      <th>isPercent</th>
      <td><p>logical. Should the results be returned as a percentage?</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>optional arguments:</p><dl>
  <dt>natDist</dt><dd><p>filename or RasterLayer. Presence or absence of natural
  disturbance, primarily by fire. Should include 40 years cumulative
  disturbance.</p></dd>
  <dt>anthroDist</dt><dd><p>filename or RasterLayer. Anthropogenic disturbance including
  harvest. This can have an effect on any type of landcover except water.
  Should include 40 years cumulative disturbance.</p></dd>
  <dt>padProjPoly</dt><dd><p>logical. Should the area around the <code>projectPoly</code> be
  used to avoid edge effects? If FALSE, the default, only data from inside the
  <code>projectPoly</code> is used. If TRUE then <code>projectPoly</code> is buffered and
  the other variables are clipped to the extent of the buffered area. Results
  are always clipped to the original <code>projectPoly</code>. It is ideal to set
  this to TRUE and provide a dataset that is larger than the
  <code>projectPoly</code> to avoid edge effects.</p></dd>
  <dt>padFocal</dt><dd><p>logical. This value is passed to the pad argument in
  <code><a href='https://rdrr.io/pkg/raster/man/focal.html'>raster::focal</a></code>, if it is FALSE then cells near the edge will return
  NA, if it is TRUE a value will be returned for each cell that assumes cells
  outside the input data are 0 for all resource types. This is not a good
  assumption and should be used with caution.</p></dd>
  <dt>bufferWidth</dt><dd><p>number. Width of buffer applied to anthropogenic
  disturbance in metres. Default is 500.</p></dd>
  <dt>linBuffMethod</dt><dd><p>character. The method used to buffer linear features if
  they are supplied as sf lines. The default is "raster" in which case they
  are rasterized using the stars package and buffered using a moving window
  method. If "sf" then the lines are buffered with st_buffer and then
  rasterized. Either way points are included in the raster output.</p></dd>

</dl></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="source"><a class="anchor" href="#source"></a>Source</h2>

    <p>Environment Canada. 2011. Scientific Assessment to Inform the
 Identification of Critical Habitat for Woodland Caribou (Rangifer tarandus
 caribou), Boreal Population, in Canada:2011 Update. Ottawa, Ontario.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A DisturbanceMetrics Object see <code><a href='DisturbanceMetrics-class.html'>DisturbanceMetrics-class</a></code></p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Note assume natDist and anthroDist include 40 years of cumulative disturbance.
Note that locations where landCover is NA or 0 are omitted from the tabulated
area. Missing layers are omitted from the output, not interpreted as 0
disturbance. To update an existing DisturbanceMetrics object with new data see
<code>updateDisturbance</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='DisturbanceMetrics-class.html'>DisturbanceMetrics-class</a></code> for information on the object
 returned and <code>updateDisturbance</code> for updating and existing
 DisturbanceMetrics object.</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># create example rasters</span>
<span class='va'>lc</span> <span class='op'>&lt;-</span> <span class='fu'>raster</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/raster/man/raster.html'>raster</a></span><span class='op'>(</span>nrows <span class='op'>=</span> <span class='fl'>10</span>, ncols <span class='op'>=</span> <span class='fl'>10</span>, xmn <span class='op'>=</span> <span class='fl'>0</span>, xmx <span class='op'>=</span> <span class='fl'>10</span>, ymn <span class='op'>=</span> <span class='fl'>0</span>, ymx <span class='op'>=</span> <span class='fl'>10</span>, crs <span class='op'>=</span> <span class='fl'>5070</span><span class='op'>)</span>
<span class='va'>nd</span> <span class='op'>&lt;-</span> <span class='va'>lc</span>
<span class='va'>nd</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='va'>ad</span> <span class='op'>&lt;-</span> <span class='va'>lc</span>
<span class='va'>ad</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>:</span><span class='fl'>5</span>, <span class='fl'>3</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='va'>lc</span><span class='op'>[</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>

<span class='co'># create sf objects</span>
<span class='va'>lf</span> <span class='op'>&lt;-</span> <span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_as_sf.html'>st_as_sf</a></span><span class='op'>(</span><span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/sfc.html'>st_sfc</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st.html'>st_linestring</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0</span>, <span class='fl'>10</span>, <span class='fl'>10</span><span class='op'>)</span>, 
                                                            ncol <span class='op'>=</span> <span class='fl'>2</span>, byrow <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
                              crs <span class='op'>=</span> <span class='fl'>5070</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>projPol</span> <span class='op'>&lt;-</span> <span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/sf.html'>st_sf</a></span><span class='op'>(</span><span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_as_sfc.html'>st_as_sfc</a></span><span class='op'>(</span><span class='fu'>sf</span><span class='fu'>::</span><span class='fu'><a href='https://r-spatial.github.io/sf/reference/st_bbox.html'>st_bbox</a></span><span class='op'>(</span><span class='va'>ad</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># calculate disturbance</span>
<span class='fu'>disturbanceMetrics</span><span class='op'>(</span>landCover <span class='op'>=</span> <span class='va'>lc</span>,
                   linFeat <span class='op'>=</span> <span class='va'>lf</span>,
                   natDist <span class='op'>=</span> <span class='va'>nd</span>,
                   anthroDist <span class='op'>=</span> <span class='va'>ad</span>,
                   projectPoly <span class='op'>=</span> <span class='va'>projPol</span>,
                   padFocal <span class='op'>=</span> <span class='cn'>TRUE</span>,
                   bufferWidth <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='message'>cropping landCover to extent of projectPoly</span></div><div class='output co'>#&gt; <span class='message'>cropping natDist to extent of projectPoly</span></div><div class='output co'>#&gt; <span class='message'>cropping anthroDist to extent of projectPoly</span></div><div class='output co'>#&gt; <span class='message'>buffering anthropogenic disturbance</span></div><div class='output co'>#&gt; <span class='message'>Registered S3 methods overwritten by 'stars':</span>
#&gt; <span class='message'>  method             from</span>
#&gt; <span class='message'>  st_bbox.SpatRaster sf  </span>
#&gt; <span class='message'>  st_crs.SpatRaster  sf  </span></div><div class='output co'>#&gt; <span class='message'>calculating disturbance metrics</span></div><div class='output co'>#&gt; An object of class "DisturbanceMetrics"
#&gt; Slot "landCover":
#&gt; class      : RasterLayer 
#&gt; dimensions : 10, 10, 100  (nrow, ncol, ncell)
#&gt; resolution : 1, 1  (x, y)
#&gt; extent     : 0, 10, 0, 10  (xmin, xmax, ymin, ymax)
#&gt; crs        : +proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs 
#&gt; source     : memory
#&gt; names      : layer 
#&gt; values     : 1, 1  (min, max)
#&gt; 
#&gt; 
#&gt; Slot "natDist":
#&gt; class      : RasterLayer 
#&gt; dimensions : 10, 10, 100  (nrow, ncol, ncell)
#&gt; resolution : 1, 1  (x, y)
#&gt; extent     : 0, 10, 0, 10  (xmin, xmax, ymin, ymax)
#&gt; crs        : +proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs 
#&gt; source     : memory
#&gt; names      : layer 
#&gt; values     : 1, 1  (min, max)
#&gt; 
#&gt; 
#&gt; Slot "anthroDist":
#&gt; class      : RasterLayer 
#&gt; dimensions : 10, 10, 100  (nrow, ncol, ncell)
#&gt; resolution : 1, 1  (x, y)
#&gt; extent     : 0, 10, 0, 10  (xmin, xmax, ymin, ymax)
#&gt; crs        : +proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs 
#&gt; source     : memory
#&gt; names      : layer 
#&gt; values     : 1, 1  (min, max)
#&gt; 
#&gt; 
#&gt; Slot "linFeat":
#&gt; [[1]]
#&gt; Simple feature collection with 1 feature and 0 fields
#&gt; Geometry type: LINESTRING
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 0 ymin: 0 xmax: 10 ymax: 10
#&gt; Projected CRS: NAD83 / Conus Albers
#&gt;                         x
#&gt; 1 LINESTRING (0 0, 10 10)
#&gt; 
#&gt; 
#&gt; Slot "projectPoly":
#&gt; Simple feature collection with 1 feature and 0 fields
#&gt; Geometry type: POLYGON
#&gt; Dimension:     XY
#&gt; Bounding box:  xmin: 0 ymin: 0 xmax: 10 ymax: 10
#&gt; CRS:           +proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs
#&gt;   sf..st_as_sfc.sf..st_bbox.ad..
#&gt; 1 POLYGON ((0 0, 10 0, 10 10,...
#&gt; 
#&gt; Slot "processedData":
#&gt; class      : RasterBrick 
#&gt; dimensions : 10, 10, 100, 4  (nrow, ncol, ncell, nlayers)
#&gt; resolution : 1, 1  (x, y)
#&gt; extent     : 0, 10, 0, 10  (xmin, xmax, ymin, ymax)
#&gt; crs        : +proj=aea +lat_0=23 +lon_0=-96 +lat_1=29.5 +lat_2=45.5 +x_0=0 +y_0=0 +datum=NAD83 +units=m +no_defs 
#&gt; source     : memory
#&gt; names      : Anthro, Fire, Total_dist, fire_excl_anthro 
#&gt; min values :      0,    0,          0,                0 
#&gt; max values :      1,    1,          1,                1 
#&gt; 
#&gt; 
#&gt; Slot "disturbanceMetrics":
#&gt;   zone Anthro Fire Total_dist fire_excl_anthro
#&gt; 1    1     52    9         58                6
#&gt; 
#&gt; Slot "attributes":
#&gt; $bufferWidth
#&gt; [1] 1
#&gt; 
#&gt; $padProjPoly
#&gt; [1] FALSE
#&gt; 
#&gt; $padFocal
#&gt; [1] TRUE
#&gt; 
#&gt; </div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Josie Hughes, Sarah Endicott, Craig Simpkins, Tati Michelleti, Eliot McIntire.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


