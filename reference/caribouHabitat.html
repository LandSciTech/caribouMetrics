<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate relative probability of caribou habitat use — caribouHabitat • caribouMetrics</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate relative probability of caribou habitat use — caribouHabitat"><meta name="description" content="Calculate the relative probability of caribou habitat use in spring, summer, fall and
winter for caribou ranges in Northern Ontario, based on Hornseth and Rempel,
2016."><meta property="og:description" content="Calculate the relative probability of caribou habitat use in spring, summer, fall and
winter for caribou ranges in Northern Ontario, based on Hornseth and Rempel,
2016."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">caribouMetrics</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/caribouDemography.html">Caribou Demography</a></li>
    <li><a class="dropdown-item" href="../articles/bayesian-model-outputs.html">Options for using Bayesian model results</a></li>
    <li><a class="dropdown-item" href="../articles/combine-observed-simulated.html">Combine observed and simulated caribou data</a></li>
    <li><a class="dropdown-item" href="../articles/compare-bayesian-models.html">Compare Bayesian models in caribouMetrics and bboutools</a></li>
    <li><a class="dropdown-item" href="../articles/Using_disturbanceMetric.html">Disturbance Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/Using_caribouHabitat.html">Using caribouHabitat</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/LandSciTech/caribouMetrics/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate relative probability of caribou habitat use</h1>
      <small class="dont-index">Source: <a href="https://github.com/LandSciTech/caribouMetrics/blob/master/R/caribouHabitat.R" class="external-link"><code>R/caribouHabitat.R</code></a></small>
      <div class="d-none name"><code>caribouHabitat.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the relative probability of caribou habitat use in spring, summer, fall and
winter for caribou ranges in Northern Ontario, based on Hornseth and Rempel,
2016.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">caribouHabitat</span><span class="op">(</span></span>
<span>  landCover <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  esker <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  linFeat <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  projectPoly <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">caribouRange</span>,</span>
<span>  coefTable <span class="op">=</span> <span class="va">coefTableHR</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p>Rempel, R.S., Carlson, M., Rodgers, A.R., Shuter, J.L., Farrell,
C.E., Cairns, D., Stelfox, B., Hunt, L.M., Mackereth, R.W. and Jackson,
J.M., 2021. Modeling Cumulative Effects of Climate and Development on
Moose, Wolf, and Caribou Populations. The Journal of Wildlife Management.</p>
<p>Hornseth, M.L. and Rempel, R.S., 2016. Seasonal resource selection of
woodland caribou (Rangifer tarandus caribou) across a gradient of
anthropogenic disturbance. Canadian Journal of Zoology, 94(2), pp.79-93.
<a href="https://doi.org/10.1139/cjz-2015-0101" class="external-link">https://doi.org/10.1139/cjz-2015-0101</a></p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-landcover">landCover<a class="anchor" aria-label="anchor" href="#arg-landcover"></a></dt>
<dd><p>filename, SpatRaster or RasterLayer. Provincial landcover class</p></dd>


<dt id="arg-esker">esker<a class="anchor" aria-label="anchor" href="#arg-esker"></a></dt>
<dd><p>filename, SpatRaster or RasterLayer or sf object. Eskers. If it is a
raster then it should be esker density in m^2/ha.</p></dd>


<dt id="arg-linfeat">linFeat<a class="anchor" aria-label="anchor" href="#arg-linfeat"></a></dt>
<dd><p>filename, SpatRaster, RasterLayer, or sf object or a list of these that will
be combined. Linear features. If it is a raster then it should be
linear feature density in m^2/ha. If a raster is provided as a list
element then ptDensity will be used to assign a density of linear features
in the pixel (default is 1).</p></dd>


<dt id="arg-projectpoly">projectPoly<a class="anchor" aria-label="anchor" href="#arg-projectpoly"></a></dt>
<dd><p>filename or sf object. Polygon defining the project area.
If caribouRange is a data.frame this must have a column called Range with
the name of the caribou range represented by the polygon which corresponds
to the Range column in the caribouRange data.frame</p></dd>


<dt id="arg-caribourange">caribouRange<a class="anchor" aria-label="anchor" href="#arg-caribourange"></a></dt>
<dd><p>character or data.frame. If character the range where
caribou were located. See <code>unique(coefTableHR$Range)</code> for options. If
data.frame it must have two columns Range and coefRange. Range is the name
of the geographical area and is used to link the table to the provided
<code>projectPoly</code> polygons. coefRange is the name of the caribou range that
the coefficients should be used from.</p></dd>


<dt id="arg-coeftable">coefTable<a class="anchor" aria-label="anchor" href="#arg-coeftable"></a></dt>
<dd><p>data.frame. table of coefficients to be used in the
model. Must match the format and naming of the default <code>coefTableHR</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>optional arguments:</p><ul><li><p>natDist: filename, SpatRaster or RasterLayer. Presence or absence of natural
disturbance, primarily by fire. This should reflect cumulative natural
disturbance over the preceding 30 years</p></li>
<li><p>anthroDist: filename, SpatRaster or RasterLayer. Anthropogenic disturbance including
harvest.</p></li>
<li><p>eskerSave: filename to save rasterized esker data.</p></li>
<li><p>linFeatSave: filename to save rasterized linear feature data.</p></li>
<li><p>padProjPoly: logical. Should the area around the <code>projectPoly</code> be
used to avoid edge effects? If FALSE, the default, only data from inside the
<code>projectPoly</code> is used. If TRUE then <code>projectPoly</code> is buffered and
the other variables are clipped to the extent of the buffered area. Results
are always clipped to the original <code>projectPoly</code>. It is ideal to set
this to TRUE and provide a data set that is larger than the
<code>projectPoly</code> to avoid edge effects.</p></li>
<li><p>padFocal: logical. This value is passed to the pad argument in
<code><a href="https://rspatial.github.io/terra/reference/focal.html" class="external-link">terra::focal</a></code>, if it is FALSE then cells near the edge will return
NA, if it is TRUE a value will be returned for each cell that assumes cells
outside the input data are 0 for all resource types. This is not a good
assumption and should be used with caution.</p></li>
<li><p>saveOutput: character. The filename to save the raster of habitat
use probabilities to. Note this will overwrite any existing files. The .grd
format is recommended because it will preserve layer names when the file is
reloaded.</p></li>
<li><p>winArea: number. This is the area of the moving window that is used to
average proportions of each resource type at broader spatial scales. The
Hornseth and Rempel (2016) models used specific window areas which are
defined within this package and used as the default. You should only specify
a window size if you have good reason.</p></li>
<li><p>doScale: logical. FALSE by default. Set to TRUE only if you have
supplied coefficients that were trained on standardized data which will
cause the input data to be scaled.</p></li>
<li><p>ptDensity: number. Only used if a list element in <code>linFeat</code> is a raster.
See <code><a href="rasterizeLineDensity.html">rasterizeLineDensity()</a></code>.</p></li>
<li><p>preppedData: list. A list containing pre-prepared input data sets. If
not NULL then data checks will be skipped. Names must match argument names
except that <code>landCover</code> should be called <code>refRast</code> and
<code>projectPoly</code> should be called <code>projectPolyOrig</code>. See
<code><a href="loadSpatialInputs.html">loadSpatialInputs()</a></code>.</p></li>
</ul></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A CaribouHabitat Object see <a href="CaribouHabitat-class.html">CaribouHabitat</a></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Caribou habitat use is calculated based on the availability of resources and
the presence of disturbances on the landscape. The primary source of resource
information is the <code>landCover</code> but this is updated based on disturbance
information. All data sources can be provided either as filenames or as
spatial files. If filenames are provided then the <code>landCover</code> is assumed
to be the Provincial Landcover for Ontario and is converted to resource types
using <code><a href="reclassPLC.html">reclassPLC()</a></code>. The result is a CaribouHabitat object which has
methods defined for plotting and extracting the results. To update an existing
CaribouHabitat object with new data see <code><a href="updateCaribou.html">updateCaribou()</a></code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="CaribouHabitat-class.html">CaribouHabitat</a> for information on the object
returned, <code><a href="updateCaribou.html">updateCaribou()</a></code> for updating an existing
CaribouHabitat object, and <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> for the plot method.</p>
<p>Caribou habitat functions:
<code><a href="CaribouHabitat-class.html">CaribouHabitat-class</a></code>,
<code><a href="calcBinaryUse.html">calcBinaryUse</a>()</code>,
<code><a href="coefTableHR.html">coefTableHR</a></code>,
<code><a href="coefTableStd.html">coefTableStd</a></code>,
<code><a href="fnlcToResType.html">fnlcToResType</a></code>,
<code><a href="loadSpatialInputs.html">loadSpatialInputs</a>()</code>,
<code><a href="plcToResType.html">plcToResType</a></code>,
<code><a href="rasterizeLineDensity.html">rasterizeLineDensity</a>()</code>,
<code><a href="reclassPLC.html">reclassPLC</a>()</code>,
<code><a href="resTypeCode.html">resTypeCode</a></code>,
<code><a href="results.html">results</a>()</code>,
<code><a href="rfuToResType.html">rfuToResType</a></code>,
<code><a href="threshTable.html">threshTable</a></code>,
<code><a href="updateCaribou.html">updateCaribou</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># create example rasters</span></span></span>
<span class="r-in"><span><span class="va">lc</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rspatial.github.io/terra/reference/rast.html" class="external-link">rast</a></span><span class="op">(</span>xmin <span class="op">=</span> <span class="fl">0</span>, xmax <span class="op">=</span> <span class="fl">25000</span>, ymin <span class="op">=</span> <span class="fl">0</span>, ymax <span class="op">=</span> <span class="fl">25000</span>, </span></span>
<span class="r-in"><span>                     resolution <span class="op">=</span> <span class="fl">250</span>, crs <span class="op">=</span> <span class="st">"EPSG:5070"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">lc</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span></span>
<span class="r-in"><span><span class="va">nd</span> <span class="op">&lt;-</span> <span class="va">lc</span></span></span>
<span class="r-in"><span><span class="va">nd</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">ad</span> <span class="op">&lt;-</span> <span class="va">lc</span></span></span>
<span class="r-in"><span><span class="va">ad</span><span class="op">[</span><span class="fl">30</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">lc</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span></span>
<span class="r-in"><span><span class="va">lc</span><span class="op">[</span><span class="fl">70</span><span class="op">:</span><span class="fl">100</span>, <span class="fl">70</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create sf objects</span></span></span>
<span class="r-in"><span><span class="va">lf</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_linestring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">10000</span>, <span class="fl">10000</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                                            ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              crs <span class="op">=</span> <span class="fl">5070</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">esk</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_linestring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10000</span>, <span class="fl">10000</span>, <span class="fl">0</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                                                            ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                              crs <span class="op">=</span> <span class="fl">5070</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">projPol</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">st_sf</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html" class="external-link">st_as_sfc</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></span><span class="op">(</span><span class="va">ad</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># calculate relative probability of use</span></span></span>
<span class="r-in"><span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">caribouHabitat</span><span class="op">(</span>landCover <span class="op">=</span> <span class="va">lc</span>,</span></span>
<span class="r-in"><span>               linFeat <span class="op">=</span> <span class="va">lf</span>,</span></span>
<span class="r-in"><span>               esker <span class="op">=</span> <span class="va">esk</span>,</span></span>
<span class="r-in"><span>               natDist <span class="op">=</span> <span class="va">nd</span>,</span></span>
<span class="r-in"><span>               anthroDist <span class="op">=</span> <span class="va">ad</span>,</span></span>
<span class="r-in"><span>               projectPoly <span class="op">=</span> <span class="va">projPol</span>,</span></span>
<span class="r-in"><span>               caribouRange <span class="op">=</span> <span class="st">"Nipigon"</span>,</span></span>
<span class="r-in"><span>               winArea <span class="op">=</span> <span class="fl">1000</span> <span class="co">#leave as default NULL except for small examples</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> cropping linFeat to extent of projectPoly</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> cropping esker to extent of projectPoly</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Applying moving window.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot the relative probability of use</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> tmap must be attached with library(tmap) to be used. Using terra instead.</span>
<span class="r-plt img"><img src="caribouHabitat-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># plot the predictor variables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="results.html">results</a></span><span class="op">(</span><span class="va">res</span>, type <span class="op">=</span><span class="st">"processedData"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="caribouHabitat-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Josie Hughes, Sarah Endicott, Yuko Shimoda, Craig Simpkins, Tati Michelleti, Eliot McIntire.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

