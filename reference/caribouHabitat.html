<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Calculate relative probability of caribou habitat use — caribouHabitat • caribouMetrics</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate relative probability of caribou habitat use — caribouHabitat"><meta property="og:description" content="Calculate the relative probability of caribou habitat use in spring, summer, fall and
winter for caribou ranges in Northern Ontario, based on Hornseth and Rempel,
2016."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">caribouMetrics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Getting_started.html">Getting started</a>
    </li>
    <li>
      <a href="../articles/UI_help.html">User Interface Help</a>
    </li>
    <li>
      <a href="../articles/Using_caribouHabitat.html">Using caribouHabitat</a>
    </li>
    <li>
      <a href="../articles/caribouDemography.html">Disturbance Metrics and Caribou Demography</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate relative probability of caribou habitat use</h1>
    
    <div class="hidden name"><code>caribouHabitat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculate the relative probability of caribou habitat use in spring, summer, fall and
winter for caribou ranges in Northern Ontario, based on Hornseth and Rempel,
2016.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">caribouHabitat</span><span class="op">(</span>
  landCover <span class="op">=</span> <span class="cn">NULL</span>,
  esker <span class="op">=</span> <span class="cn">NULL</span>,
  linFeat <span class="op">=</span> <span class="cn">NULL</span>,
  projectPoly <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">caribouRange</span>,
  coefTable <span class="op">=</span> <span class="va">coefTableHR</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="source">
    <h2>Source</h2>
    <p>Rempel, R.S., Carlson, M., Rodgers, A.R., Shuter, J.L., Farrell,
  C.E., Cairns, D., Stelfox, B., Hunt, L.M., Mackereth, R.W. and Jackson,
  J.M., 2021. Modeling Cumulative Effects of Climate and Development on
  Moose, Wolf, and Caribou Populations. The Journal of Wildlife Management.</p>
<p>Hornseth, M.L. and Rempel, R.S., 2016. Seasonal resource selection of
 woodland caribou (Rangifer tarandus caribou) across a gradient of
 anthropogenic disturbance. Canadian Journal of Zoology, 94(2), pp.79-93.
 <a href="https://doi.org/10.1139/cjz-2015-0101" class="external-link">https://doi.org/10.1139/cjz-2015-0101</a></p>
    </div>
    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>landCover</dt>
<dd><p>filename or RasterLayer. Provincial landcover class</p></dd>
<dt>esker</dt>
<dd><p>filename, RasterLayer or sf object. Eskers. If it is a
RasterLayer then it should be esker density in m^2/ha.</p></dd>
<dt>linFeat</dt>
<dd><p>filename, RasterLayer, sf object or a list of these that will
be combined. Linear features. If it is a RasterLayer then it should be
linear feature density in m^2/ha. If a RasterLayer is provided as a list
element then ptDensity will be used to assign a density of linear features
in the pixel (default is 1).</p></dd>
<dt>projectPoly</dt>
<dd><p>filename or sf object. Polygon defining the project area.
If caribouRange is a data.frame this must have a column called Range with
the name of the caribou range represented by the polygon which corresponds
to the Range column in the caribouRange data.frame</p></dd>
<dt>caribouRange</dt>
<dd><p>character or data.frame. If character the range where
caribou were located. See <code>unique(coefTableHR$Range)</code> for options. If
data.frame it must have two columns Range and coefRange. Range is the name
of the geographical area and is used to link the table to the provided
<code>projectPoly</code> polygons. coefRange is the name of the caribou range that
the coefficients should be used from.</p></dd>
<dt>coefTable</dt>
<dd><p>data.frame. table of coefficients to be used in the
model. Must match the format and naming of the default <code>coefTableHR</code></p></dd>
<dt>...</dt>
<dd><p>optional arguments:</p><dl><dt>natDist:</dt>
<dd><p>filename or RasterLayer. Presence or absence of natural 
  disturbance, primarily by fire. This should reflect cumulative natural 
  disturbance over the preceding 30 years</p></dd>

  <dt>anthroDist:</dt>
<dd><p>filename or RasterLayer. Anthropogenic disturbance including 
  harvest.</p></dd>

  <dt>eskerSave</dt>
<dd><p>filename to save rasterized esker data.</p></dd>

  <dt>linFeatSave</dt>
<dd><p>filename to save rasterized linear feature data.</p></dd>

  <dt>padProjPoly</dt>
<dd><p>logical. Should the area around the <code>projectPoly</code> be
  used to avoid edge effects? If FALSE, the default, only data from inside the
  <code>projectPoly</code> is used. If TRUE then <code>projectPoly</code> is buffered and
  the other variables are clipped to the extent of the buffered area. Results
  are always clipped to the original <code>projectPoly</code>. It is ideal to set
  this to TRUE and provide a data set that is larger than the
  <code>projectPoly</code> to avoid edge effects.</p></dd>

  <dt>padFocal</dt>
<dd><p>logical. This value is passed to the pad argument in
  <code><a href="https://rdrr.io/pkg/raster/man/focal.html" class="external-link">raster::focal</a></code>, if it is FALSE then cells near the edge will return
  NA, if it is TRUE a value will be returned for each cell that assumes cells
  outside the input data are 0 for all resource types. This is not a good
  assumption and should be used with caution.</p></dd>

  <dt>saveOutput</dt>
<dd><p>character. The filename to save the rasterBrick of habitat
  use probabilities to. Note this will overwrite any existing files. The .grd
  format is recommended because it will preserve layer names when the file is
  reloaded.</p></dd>

  <dt>winArea</dt>
<dd><p>number. This is the area of the moving window that is used to
  average proportions of each resource type at broader spatial scales. The
  Hornseth and Rempel (2016) models used specific window areas which are
  defined within this package and used as the default. You should only specify
  a window size if you have good reason.</p></dd>

  <dt>doScale</dt>
<dd><p>logical. FALSE by default. Set to TRUE only if you have
  supplied coefficients that were trained on standardized data which will
  cause the input data to be scaled.</p></dd>

  <dt>ptDensity</dt>
<dd><p>number. Only used if a list element in <code>linFeat</code> is a raster.
  See <code><a href="rasterizeLineDensity.html">rasterizeLineDensity</a></code>.</p></dd>

  <dt>preppedData</dt>
<dd><p>list. A list containing pre-prepared input data sets. If
  not NULL then data checks will be skipped. Names must match argument names
  except that <code>landCover</code> should be called <code>refRast</code> and
  <code>projectPoly</code> should be called <code>projectPolyOrig</code>. See
  <code><a href="loadSpatialInputs.html">loadSpatialInputs</a></code>.</p></dd>


</dl></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A CaribouHabitat Object see <code><a href="CaribouHabitat-class.html">CaribouHabitat-class</a></code></p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Caribou habitat use is calculated based on the availability of resources and
the presence of disturbances on the landscape. The primary source of resource
information is the <code>landCover</code> but this is updated based on disturbance
information. All data sources can be provided either as filenames or as
spatial files. If filenames are provided then the <code>landCover</code> is assumed
to be the Provincial Landcover for Ontario and is converted to resource types
using <code><a href="reclassPLC.html">reclassPLC</a></code>. The result is a CaribouHabitat object which has
methods defined for plotting and extracting the results. To update an existing
CaribouHabitat object with new data see <a href="updateCaribou.html">updateCaribou</a>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="CaribouHabitat-class.html">CaribouHabitat-class</a></code> for information on the object
 returned and <code><a href="updateCaribou.html">updateCaribou</a></code> for updating an existing
 CaribouHabitat object.</p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># create example rasters</span></span>
<span class="r-in"><span class="va">lc</span> <span class="op">&lt;-</span> <span class="fu">raster</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/raster/man/raster.html" class="external-link">raster</a></span><span class="op">(</span>xmn <span class="op">=</span> <span class="fl">0</span>, xmx <span class="op">=</span> <span class="fl">25000</span>, ymn <span class="op">=</span> <span class="fl">0</span>, ymx <span class="op">=</span> <span class="fl">25000</span>, </span>
<span class="r-in">                     resolution <span class="op">=</span> <span class="fl">250</span>, crs <span class="op">=</span> <span class="fl">5070</span><span class="op">)</span></span>
<span class="r-in"><span class="va">lc</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span class="r-in"><span class="va">nd</span> <span class="op">&lt;-</span> <span class="va">lc</span></span>
<span class="r-in"><span class="va">nd</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">30</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">30</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span class="r-in"><span class="va">ad</span> <span class="op">&lt;-</span> <span class="va">lc</span></span>
<span class="r-in"><span class="va">ad</span><span class="op">[</span><span class="fl">30</span><span class="op">:</span><span class="fl">50</span>, <span class="fl">3</span><span class="op">:</span><span class="fl">50</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span class="r-in"><span class="va">lc</span><span class="op">[</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span class="r-in"><span class="va">lc</span><span class="op">[</span><span class="fl">70</span><span class="op">:</span><span class="fl">100</span>, <span class="fl">70</span><span class="op">:</span><span class="fl">100</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># create sf objects</span></span>
<span class="r-in"><span class="va">lf</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_linestring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">10000</span>, <span class="fl">10000</span><span class="op">)</span>,</span>
<span class="r-in">                                                            ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">                              crs <span class="op">=</span> <span class="fl">5070</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="va">esk</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sfc.html" class="external-link">st_sfc</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st.html" class="external-link">st_linestring</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10000</span>, <span class="fl">10000</span>, <span class="fl">0</span><span class="op">)</span>,</span>
<span class="r-in">                                                            ncol <span class="op">=</span> <span class="fl">2</span>, byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>,</span>
<span class="r-in">                              crs <span class="op">=</span> <span class="fl">5070</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">projPol</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">st_sf</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sfc.html" class="external-link">st_as_sfc</a></span><span class="op">(</span><span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_bbox.html" class="external-link">st_bbox</a></span><span class="op">(</span><span class="va">ad</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># calculate relative probability of use</span></span>
<span class="r-in"><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu">caribouHabitat</span><span class="op">(</span>landCover <span class="op">=</span> <span class="va">lc</span>,</span>
<span class="r-in">               linFeat <span class="op">=</span> <span class="va">lf</span>,</span>
<span class="r-in">               esker <span class="op">=</span> <span class="va">esk</span>,</span>
<span class="r-in">               natDist <span class="op">=</span> <span class="va">nd</span>,</span>
<span class="r-in">               anthroDist <span class="op">=</span> <span class="va">ad</span>,</span>
<span class="r-in">               projectPoly <span class="op">=</span> <span class="va">projPol</span>,</span>
<span class="r-in">               caribouRange <span class="op">=</span> <span class="st">"Nipigon"</span>,</span>
<span class="r-in">               winArea <span class="op">=</span> <span class="fl">1000</span> <span class="co">#leave as default NULL except for small examples</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> old-style crs object detected; please recreate object with a recent sf::st_crs()</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Applying moving window.</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># plot the relative probability of use</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res</span><span class="op">)</span></span>
<span class="r-plt img"><img src="caribouHabitat-1.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># plot the predictor variables</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="fu"><a href="results.html">results</a></span><span class="op">(</span><span class="va">res</span>, type <span class="op">=</span><span class="st">"processedData"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-plt img"><img src="caribouHabitat-2.png" alt="" width="700" height="433"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Josie Hughes, Sarah Endicott, Craig Simpkins, Tati Michelleti, Eliot McIntire.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

